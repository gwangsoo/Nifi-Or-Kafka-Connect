{"flowContents":{"identifier":"3137c0d8-3261-3317-b126-a31b88076fea","name":"db-kafka-db","comments":"","position":{"x":0.0,"y":0.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"99b8f002-f0e0-383c-8742-3875000a57ec","name":"CaptureChangeMySQL","comments":"","position":{"x":528.0,"y":-16.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-cdc-mysql-nar","version":"1.11.0"},"style":{},"type":"org.apache.nifi.cdc.mysql.processors.CaptureChangeMySQL","properties":{"capture-change-mysql-include-ddl-events":"false","capture-change-mysql-db-name-pattern":"source","capture-change-mysql-dist-map-cache-client":null,"capture-change-mysql-init-seq-id":null,"capture-change-mysql-name-pattern":"tb_.*","capture-change-mysql-driver-class":"com.mysql.jdbc.Driver","capture-change-mysql-driver-locations":null,"capture-change-mysql-include-begin-commit":"false","capture-change-mysql-server-id":null,"capture-change-mysql-init-binlog-filename":null,"capture-change-mysql-init-binlog-position":null,"capture-change-mysql-hosts":"mariadb:3305","capture-change-mysql-username":"root","capture-change-mysql-retrieve-all-records":"true","capture-change-mysql-state-update-interval":"0 seconds","capture-change-mysql-max-wait-time":"30 seconds"},"propertyDescriptors":{"capture-change-mysql-include-ddl-events":{"name":"capture-change-mysql-include-ddl-events","displayName":"Include DDL Events","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-db-name-pattern":{"name":"capture-change-mysql-db-name-pattern","displayName":"Database/Schema Name Pattern","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-dist-map-cache-client":{"name":"capture-change-mysql-dist-map-cache-client","displayName":"Distributed Map Cache Client","identifiesControllerService":true,"sensitive":false},"capture-change-mysql-init-seq-id":{"name":"capture-change-mysql-init-seq-id","displayName":"Initial Sequence ID","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-name-pattern":{"name":"capture-change-mysql-name-pattern","displayName":"Table Name Pattern","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-driver-class":{"name":"capture-change-mysql-driver-class","displayName":"MySQL Driver Class Name","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-driver-locations":{"name":"capture-change-mysql-driver-locations","displayName":"MySQL Driver Location(s)","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-include-begin-commit":{"name":"capture-change-mysql-include-begin-commit","displayName":"Include Begin/Commit Events","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-server-id":{"name":"capture-change-mysql-server-id","displayName":"Server ID","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-init-binlog-filename":{"name":"capture-change-mysql-init-binlog-filename","displayName":"Initial Binlog Filename","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-init-binlog-position":{"name":"capture-change-mysql-init-binlog-position","displayName":"Initial Binlog Position","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-hosts":{"name":"capture-change-mysql-hosts","displayName":"MySQL Hosts","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-username":{"name":"capture-change-mysql-username","displayName":"Username","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-retrieve-all-records":{"name":"capture-change-mysql-retrieve-all-records","displayName":"Retrieve All Records","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-state-update-interval":{"name":"capture-change-mysql-state-update-interval","displayName":"State Update Interval","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-password":{"name":"capture-change-mysql-password","displayName":"Password","identifiesControllerService":false,"sensitive":true},"capture-change-mysql-max-wait-time":{"name":"capture-change-mysql-max-wait-time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"3137c0d8-3261-3317-b126-a31b88076fea"},{"identifier":"59e9ddc0-85eb-3025-baf6-24eb5433624e","name":"ConsumeKafka","comments":"","position":{"x":976.0,"y":-8.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-kafka-0-9-nar","version":"1.11.0"},"style":{"background-color":"#ffffff"},"type":"org.apache.nifi.processors.kafka.pubsub.ConsumeKafka","properties":{"security.protocol":"PLAINTEXT","ssl.context.service":null,"max.poll.records":"10000","max-uncommit-offset-wait":"1 secs","group.id":"targetdb1","bootstrap.servers":"kafka:9093","topic":"sourcedb-cdc","message-demarcator":null,"key-attribute-encoding":"utf-8","auto.offset.reset":"latest","sasl.kerberos.service.name":null},"propertyDescriptors":{"security.protocol":{"name":"security.protocol","displayName":"Security Protocol","identifiesControllerService":false,"sensitive":false},"ssl.context.service":{"name":"ssl.context.service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"max.poll.records":{"name":"max.poll.records","displayName":"Max Poll Records","identifiesControllerService":false,"sensitive":false},"max-uncommit-offset-wait":{"name":"max-uncommit-offset-wait","displayName":"Max Uncommitted Time","identifiesControllerService":false,"sensitive":false},"group.id":{"name":"group.id","displayName":"Group ID","identifiesControllerService":false,"sensitive":false},"bootstrap.servers":{"name":"bootstrap.servers","displayName":"Kafka Brokers","identifiesControllerService":false,"sensitive":false},"topic":{"name":"topic","displayName":"Topic Name(s)","identifiesControllerService":false,"sensitive":false},"message-demarcator":{"name":"message-demarcator","displayName":"Message Demarcator","identifiesControllerService":false,"sensitive":false},"key-attribute-encoding":{"name":"key-attribute-encoding","displayName":"Key Attribute Encoding","identifiesControllerService":false,"sensitive":false},"auto.offset.reset":{"name":"auto.offset.reset","displayName":"Offset Reset","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.service.name":{"name":"sasl.kerberos.service.name","displayName":"Kerberos Service Name","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"3137c0d8-3261-3317-b126-a31b88076fea"},{"identifier":"1daba694-f409-3dc5-963e-91dd06446856","name":"CaptureChangeMySQL","comments":"","position":{"x":144.0,"y":-16.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-cdc-mysql-nar","version":"1.11.0"},"style":{},"type":"org.apache.nifi.cdc.mysql.processors.CaptureChangeMySQL","properties":{"capture-change-mysql-include-ddl-events":"false","capture-change-mysql-db-name-pattern":"eventuate","capture-change-mysql-dist-map-cache-client":null,"capture-change-mysql-init-seq-id":null,"capture-change-mysql-name-pattern":"tb_.*","capture-change-mysql-driver-class":"com.mysql.jdbc.Driver","capture-change-mysql-driver-locations":null,"capture-change-mysql-include-begin-commit":"false","capture-change-mysql-server-id":null,"capture-change-mysql-init-binlog-filename":null,"capture-change-mysql-init-binlog-position":null,"capture-change-mysql-hosts":"sourcedb:3306","capture-change-mysql-username":"root","capture-change-mysql-retrieve-all-records":"true","capture-change-mysql-state-update-interval":"0 seconds","capture-change-mysql-max-wait-time":"30 seconds"},"propertyDescriptors":{"capture-change-mysql-include-ddl-events":{"name":"capture-change-mysql-include-ddl-events","displayName":"Include DDL Events","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-db-name-pattern":{"name":"capture-change-mysql-db-name-pattern","displayName":"Database/Schema Name Pattern","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-dist-map-cache-client":{"name":"capture-change-mysql-dist-map-cache-client","displayName":"Distributed Map Cache Client","identifiesControllerService":true,"sensitive":false},"capture-change-mysql-init-seq-id":{"name":"capture-change-mysql-init-seq-id","displayName":"Initial Sequence ID","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-name-pattern":{"name":"capture-change-mysql-name-pattern","displayName":"Table Name Pattern","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-driver-class":{"name":"capture-change-mysql-driver-class","displayName":"MySQL Driver Class Name","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-driver-locations":{"name":"capture-change-mysql-driver-locations","displayName":"MySQL Driver Location(s)","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-include-begin-commit":{"name":"capture-change-mysql-include-begin-commit","displayName":"Include Begin/Commit Events","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-server-id":{"name":"capture-change-mysql-server-id","displayName":"Server ID","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-init-binlog-filename":{"name":"capture-change-mysql-init-binlog-filename","displayName":"Initial Binlog Filename","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-init-binlog-position":{"name":"capture-change-mysql-init-binlog-position","displayName":"Initial Binlog Position","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-hosts":{"name":"capture-change-mysql-hosts","displayName":"MySQL Hosts","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-username":{"name":"capture-change-mysql-username","displayName":"Username","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-retrieve-all-records":{"name":"capture-change-mysql-retrieve-all-records","displayName":"Retrieve All Records","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-state-update-interval":{"name":"capture-change-mysql-state-update-interval","displayName":"State Update Interval","identifiesControllerService":false,"sensitive":false},"capture-change-mysql-password":{"name":"capture-change-mysql-password","displayName":"Password","identifiesControllerService":false,"sensitive":true},"capture-change-mysql-max-wait-time":{"name":"capture-change-mysql-max-wait-time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"3137c0d8-3261-3317-b126-a31b88076fea"},{"identifier":"58cf46ad-1315-3096-84ab-8833548f284e","name":"EvaluateJsonPath","comments":"","position":{"x":976.0,"y":152.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.11.0"},"style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","properties":{"Destination":"flowfile-content","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"3137c0d8-3261-3317-b126-a31b88076fea"},{"identifier":"7127a7fa-0f73-3b54-b181-c65c6af1e413","name":"ConvertJSONToSQL","comments":"","position":{"x":976.0,"y":336.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.11.0"},"style":{},"type":"org.apache.nifi.processors.standard.ConvertJSONToSQL","properties":{"table-schema-cache-size":"100","Table Name":null,"Catalog Name":null,"jts-sql-param-attr-prefix":"sql","Schema Name":null,"Unmatched Field Behavior":"Ignore Unmatched Fields","Unmatched Column Behavior":"Fail on Unmatched Columns","jts-quoted-identifiers":"false","jts-quoted-table-identifiers":"false","JDBC Connection Pool":null,"Update Keys":null,"Translate Field Names":"true","Statement Type":null},"propertyDescriptors":{"table-schema-cache-size":{"name":"table-schema-cache-size","displayName":"Table Schema Cache Size","identifiesControllerService":false,"sensitive":false},"Table Name":{"name":"Table Name","displayName":"Table Name","identifiesControllerService":false,"sensitive":false},"Catalog Name":{"name":"Catalog Name","displayName":"Catalog Name","identifiesControllerService":false,"sensitive":false},"jts-sql-param-attr-prefix":{"name":"jts-sql-param-attr-prefix","displayName":"SQL Parameter Attribute Prefix","identifiesControllerService":false,"sensitive":false},"Schema Name":{"name":"Schema Name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"Unmatched Field Behavior":{"name":"Unmatched Field Behavior","displayName":"Unmatched Field Behavior","identifiesControllerService":false,"sensitive":false},"Unmatched Column Behavior":{"name":"Unmatched Column Behavior","displayName":"Unmatched Column Behavior","identifiesControllerService":false,"sensitive":false},"jts-quoted-identifiers":{"name":"jts-quoted-identifiers","displayName":"Quote Column Identifiers","identifiesControllerService":false,"sensitive":false},"jts-quoted-table-identifiers":{"name":"jts-quoted-table-identifiers","displayName":"Quote Table Identifiers","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"Update Keys":{"name":"Update Keys","displayName":"Update Keys","identifiesControllerService":false,"sensitive":false},"Translate Field Names":{"name":"Translate Field Names","displayName":"Translate Field Names","identifiesControllerService":false,"sensitive":false},"Statement Type":{"name":"Statement Type","displayName":"Statement Type","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"3137c0d8-3261-3317-b126-a31b88076fea"},{"identifier":"0f87b75c-efa0-3cb7-b349-08b569f56390","name":"PublishKafka","comments":"","position":{"x":240.0,"y":248.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-kafka-0-9-nar","version":"1.11.0"},"style":{},"type":"org.apache.nifi.processors.kafka.pubsub.PublishKafka","properties":{"compression.type":"none","ack.wait.time":"5 secs","acks":"0","bootstrap.servers":"kafka:9093","sasl.kerberos.service.name":null,"security.protocol":"PLAINTEXT","ssl.context.service":null,"max.request.size":"1 MB","kafka-key":null,"max.block.ms":"5 sec","partitioner.class":"org.apache.kafka.clients.producer.internals.DefaultPartitioner","topic":"sourcedb-cdc","message-demarcator":null,"key-attribute-encoding":"utf-8"},"propertyDescriptors":{"compression.type":{"name":"compression.type","displayName":"Compression Type","identifiesControllerService":false,"sensitive":false},"ack.wait.time":{"name":"ack.wait.time","displayName":"Acknowledgment Wait Time","identifiesControllerService":false,"sensitive":false},"acks":{"name":"acks","displayName":"Delivery Guarantee","identifiesControllerService":false,"sensitive":false},"bootstrap.servers":{"name":"bootstrap.servers","displayName":"Kafka Brokers","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.service.name":{"name":"sasl.kerberos.service.name","displayName":"Kerberos Service Name","identifiesControllerService":false,"sensitive":false},"security.protocol":{"name":"security.protocol","displayName":"Security Protocol","identifiesControllerService":false,"sensitive":false},"ssl.context.service":{"name":"ssl.context.service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"max.request.size":{"name":"max.request.size","displayName":"Max Request Size","identifiesControllerService":false,"sensitive":false},"kafka-key":{"name":"kafka-key","displayName":"Kafka Key","identifiesControllerService":false,"sensitive":false},"max.block.ms":{"name":"max.block.ms","displayName":"Max Metadata Wait Time","identifiesControllerService":false,"sensitive":false},"partitioner.class":{"name":"partitioner.class","displayName":"Partitioner class","identifiesControllerService":false,"sensitive":false},"topic":{"name":"topic","displayName":"Topic Name","identifiesControllerService":false,"sensitive":false},"message-demarcator":{"name":"message-demarcator","displayName":"Message Demarcator","identifiesControllerService":false,"sensitive":false},"key-attribute-encoding":{"name":"key-attribute-encoding","displayName":"Key Attribute Encoding","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"3137c0d8-3261-3317-b126-a31b88076fea"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"37802973-2156-375a-9011-c2ff0c613f21","name":"mariadb-kafka","source":{"id":"99b8f002-f0e0-383c-8742-3875000a57ec","type":"PROCESSOR","groupId":"3137c0d8-3261-3317-b126-a31b88076fea","name":"CaptureChangeMySQL","comments":""},"destination":{"id":"0f87b75c-efa0-3cb7-b349-08b569f56390","type":"PROCESSOR","groupId":"3137c0d8-3261-3317-b126-a31b88076fea","name":"PublishKafka","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3137c0d8-3261-3317-b126-a31b88076fea"},{"identifier":"c194d388-eaab-3221-98e3-9fc0e63c0ba6","name":"sourcedb-kafka","source":{"id":"1daba694-f409-3dc5-963e-91dd06446856","type":"PROCESSOR","groupId":"3137c0d8-3261-3317-b126-a31b88076fea","name":"CaptureChangeMySQL","comments":""},"destination":{"id":"0f87b75c-efa0-3cb7-b349-08b569f56390","type":"PROCESSOR","groupId":"3137c0d8-3261-3317-b126-a31b88076fea","name":"PublishKafka","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3137c0d8-3261-3317-b126-a31b88076fea"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"componentType":"PROCESS_GROUP"},"externalControllerServices":{},"parameterContexts":{},"flowEncodingVersion":"1.0"}